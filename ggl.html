<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="referrer" content="no-referrer" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no,viewport-fit=cover" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>嘻嘻嘻嘻</title>
  <style>
	canvas{
	    position: absolute;
    left: 0;
 
   
    top: 0;
    margin: auto;}
	img{
	width: 215px;
    height: 190px;
    position: absolute;
    left: 0;
   
    top: 0;
    margin: auto;
    z-index: 0;}
  </style>
</head>

<body>
  <img src="./images/xin_solid.png" />
  <canvas width="300" height="300"></canvas>

</body>

</html>
<script>
var cas = document.querySelector('canvas')
var ctx = cas.getContext('2d')

ctx.fillRect(0, 0, 300, 300)

// 开关
var isClear = false

cas.addEventListener('mousedown', function () {
  isClear = true
})
cas.ontouchstart=function(){
console.log(22)
  isClear = true
}

cas.ontouchmove=function (e) {
console.log(e)
  if (!isClear) {
    return
  }
  var x = e.touches[0].clientX
  var y = e.touches[0].clientY
  var w = 30
  var h = 30
  ctx.clearRect(x, y, w, h)
}
cas.ontouchend= function () {
  isClear = false
}
cas.addEventListener('mousemove', function (e) {
  if (!isClear) {
    return
  }
  var x = e.offsetX
  var y = e.offsetY
  var w = 30
  var h = 30
  ctx.clearRect(x, y, w, h)
})

cas.addEventListener('mouseup', function () {
  isClear = false
})

</script>